---
const { height, width, bezier, delay, second, classes, fromLeft, fromTop } =
  Astro.props;
const cssHeight = height;
const cssWidth = width;
---

<div class="contain-animation">
  <div class="contain-element">
    <slot />
    <span
      class={`cover ${classes}`}
      style={`animation: walk ${second}s ${bezier} ${delay}; margin-top:${fromTop}; transform:translateX(${fromLeft});`}
    ></span>
  </div>
</div>

<style define:vars={{ width: cssWidth, height: cssHeight }}>
  .contain-element {
    position: relative;
  }

  .cover {
    @apply absolute bg-black top-0 left-0;
  }

  /* mobile */
  @keyframes walk {
    0% {
      transform: translateX(0%);
      margin-top: 0;
      width: var(--width);
      height: var(--height);
    }

    35% {
      width: 0;
      height: 0;
    }
  }

  /* desktop */
  @media (min-width: 768px) {
    @keyframes walk {
      0% {
        transform: translateX(0%);
        margin-top: 0;
        width: 100%;
        height: 100%;
      }

      100% {
        /* margin-top ends at fromTop prop value */
        /* transform: translateX ends at fromTop prop value */
        width: 100%;
        height: 100%;
      }
    }
  }
</style>
